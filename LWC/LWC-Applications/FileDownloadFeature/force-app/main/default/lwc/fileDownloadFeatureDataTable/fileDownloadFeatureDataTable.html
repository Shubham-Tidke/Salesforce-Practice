<!-- sldsValidatorIgnore -->
<template>   
    <lightning-card title="Download Attachments Component"> 
        <template if:false={count}>
            <div class="slds-m-around_medium">
                <h2>No files to download!!</h2>
            </div>
        </template>
        <template if:true={count}> 
            <div class="slds-m-around_small">
                <lightning-input
                    class = "slds-float_right" 
                    type="search" 
                    placeholder="Search Attachments" 
                    style="width: 300px;" 
                    onchange={handleSearch}>
                </lightning-input>
                <lightning-file-upload
                    name="fileUploader"
                    class = "slds-float_left" 
                    record-id={recordId}
                    onuploadfinished={handleUploadFinished}
                    multiple>
                </lightning-file-upload><br>
                <lightning-button-icon  
                    label="Refresh" 
                    icon-name="utility:refresh" 
                    alternative-text="Refresh table" 
                    class="slds-m-around_xx-small" 
                    onclick={refreshHandler}>
                </lightning-button-icon>           
                <lightning-button  
                    label="Download Files"  
                    variant="brand" 
                    icon-name="utility:download" 
                    alternative-text="Download selected files"  
                    onclick={checkboxHandler}>
                </lightning-button>                 
            </div> 
            <template if:false={isSpinner}>              
            <div class="slds-box" style="height:275px;">
                <lightning-datatable  
                    key-field="Id"  
                    data={filesList}  
                    columns={columns}                                      
                    onrowaction={handleRowAction}
                    enable-infinite-loading
                    show-row-number-column>  
                </lightning-datatable>  
              </div>
            </template>
            <template if:true={isSpinner}>
                <lightning-spinner alternative-text="Loading" size="medium">

                </lightning-spinner>
            </template> 
        </template>
    </lightning-card>
</template>